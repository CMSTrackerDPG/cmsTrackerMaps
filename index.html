<html>
<header>
	<title>TrackerMaps Reloaded</title>

	<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="bootstrap/js/bootstrap.min.js"></script>
  <script src="javascript/data.js"></script>
  <script src="javascript/urlParams.js"></script>
  <script src="javascript/dataHelpers.js"></script>
  <script src="javascript/loading.js"></script>
  <script src="javascript/FileTree/jqueryFileTree.js"></script>
  <link href="javascript/FileTree/jqueryFileTree.css" rel="stylesheet">

</header>

<body>
<script type="text/javascript">
 var referencePath = "http://vocms061.cern.ch/event_display/Data2016/BeamReReco23Sep/274/274094/ZeroBias/";
</script>

  <div class="panel-group" style="margin-bottom: 10px">
    <div class="panel panel-default">
      <div id="jumbotronCollapse" class="panel-collapse collapse in">
        <div class="panel-body" style="padding: 0">
          
          <div class="jumbotron" style="padding: 10px; margin: 0;">

              <div class="container" id="optionsPane" style="width: 95%;">

                <div class="row">

                  <div class="col-md-4">
                    <div class="panel-group" id="checkboxAccordion"></div>
                  </div>
                  
                  <div class="col-md-6">
                    <div class="form-group">

                        <div class="input-group">
                          <input type="text" class="form-control" id="refRunNumberInput" placeholder="REFERENCE">
                          <div class="input-group-btn">
                            <button class="btn btn-default" id="refRunNumberInputBrowse" data-ref="refRunNumberInput"><i class='glyphicon glyphicon-folder-open'></i></button>
                          </div>
                        </div>

                        <div class="input-group">
                          <input type="text" class="form-control" id="currRunNumberInput" placeholder="CURRENT">
                          <div class="input-group-btn">
                            <button class="btn btn-default" id="currRunNumberInputBrowse" data-ref="currRunNumberInput"><i class='glyphicon glyphicon-folder-open'></i></button>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-md-2">
                  <!-- <input id="linkme" type="button" value="Link Me" class="btn btn-warning link-me"/> -->
                  <button class="btn btn-warning" id="link-me">
                    <span class="glyphicon glyphicon-paperclip"></span> Link Me!
                  </button>
                  <button class="btn btn-warning" id="fuck-you">
                     <span class="glyphicon glyphicon-paperclip"></span> TEST!
                  </button>

                </div>
              </div>

            </div>

          </div>

        </div>
      </div>
    </div>
    <div class="panel-footer" style="padding: 0">
      <a data-toggle="collapse" href="#jumbotronCollapse">
        <button class="btn btn-primary" style="width: 100%;">
          <span class="glyphicon glyphicon-cloud"></span>
        </button>
      </a>
    </div>
  </div> 

  <div class="container" id="TrackerMaps" style="width:90%">
    <!-- INCLUDED STAFF -->
    <div class="row">
      <div class="col-lg-12">
        <ul class="nav nav-tabs extandable-tab-list-ref"></ul>
        <div class="tab-content extandable-tab-list-content"></div>
      </div>
    </div>
  </div>


  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header" style="text-align:center;font-size:25px;">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4>Choose dataset</h4>
        </div>
        <div class="modal-body">
          <div id="treeContainer"  style="padding-bottom: 10px; padding-left:15px;"></div>
          <form role="form">
            <button data-dismiss="modal" class="btn btn-warning btn-block"><span class="glyphicon glyphicon-off"></span> Close</button>
          </form>
        </div>
      </div>
      
    </div>
  </div> 
<!-- </div> -->

  <input type="hidden" id="runNumberInputBrowseCaller" val="">

  <script type="text/javascript">
    $('#treeContainer').fileTree({ root: '/data/users/event_display/', 
                                   multiFolder: false}, function(file) {
        $("#" + $("#runNumberInputBrowseCaller").val()).val(file);
    });
  </script>

  <script>
  $(document).ready(function(){
      $("#refRunNumberInputBrowse, #currRunNumberInputBrowse").click(function(){
          $("#runNumberInputBrowseCaller").val($(this).attr('data-ref'));
          $("#myModal").modal();
      });
  });
  </script>
    
</body>
</html>